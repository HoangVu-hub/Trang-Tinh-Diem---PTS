<html lang="vi"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="T√≠nh ƒëi·ªÉm trung b√¨nh v√† ki·ªÉm tra ch√≠nh s√°ch gi·∫£m h·ªçc ph√≠ cho t√¢n sinh vi√™n ƒê·∫°i h·ªçc C·ª≠u Long">
    <meta name="keywords" content="gi·∫£m h·ªçc ph√≠, ƒê·∫°i h·ªçc C·ª≠u Long, t√≠nh ƒëi·ªÉm trung b√¨nh, x√©t tuy·ªÉn ƒë·∫°i h·ªçc">
    <meta name="author" content="ƒê·∫°i h·ªçc C·ª≠u Long">
    <title>T√≠nh ƒêi·ªÉm &amp; Gi·∫£m H·ªçc Ph√≠ - ƒê·∫°i h·ªçc C·ª≠u Long</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .custom-select {
            position: relative;
        }
        .custom-select::after {
            content: '‚ñº';
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: #3b82f6;
            font-size: 0.875rem;
            font-weight: 700;
            pointer-events: none;
            transition: transform 0.3s ease, color 0.3s ease;
        }
        .custom-select input:focus + ::after {
            transform: translateY(-50%) scale(1.2);
            color: #1e40af;
        }
        .invalid {
            border-color: #ef4444 !important;
            animation: shake 0.3s;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-4px); }
            75% { transform: translateX(4px); }
        }
        .highlight {
            background-color: #fef08a;
            font-weight: 500;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
        }
        .error-message {
            display: none;
            color: #ef4444;
            font-size: 0.75rem;
            margin-top: 0.25rem;
        }
        .policy-option {
            background-color: #eff6ff;
            padding: 0.5rem 0.75rem;
            border-radius: 0.375rem;
            transition: background-color 0.2s ease;
        }
        .policy-option:hover {
            background-color: #dbeafe;
        }
        .policy-option input:checked + label {
            color: #1e40af;
            font-weight: 500;
        }
        .policy-option label {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .sub-policy {
            margin-left: 1.5rem;
            margin-top: 0.25rem;
        }
        input, select {
            transition: all 0.2s ease;
        }
        .suggestion-list {
            position: absolute;
            z-index: 10;
            width: 100%;
            max-height: 10rem;
            overflow-y: auto;
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            display: none;
        }
        .suggestion-item {
            padding: 0.5rem 0.75rem;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .suggestion-item:hover {
            background-color: #f3f4f6;
        }
        .suggestion-item.active {
            background-color: #dbeafe;
            font-weight: 500;
        }
        @media (max-width: 640px) {
            body {
                font-size: 0.875rem;
            }
            h1 {
                font-size: 1.5rem;
            }
            h2 {
                font-size: 1.25rem;
            }
            input, select {
                font-size: 0.875rem;
                padding: 0.5rem 0.75rem;
            }
            .policy-option {
                padding: 0.5rem;
            }
            .policy-option label {
                font-size: 0.75rem;
            }
            table {
                font-size: 0.75rem;
            }
            .suggestion-list {
                max-height: 8rem;
            }
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.relative{position:relative}.mx-auto{margin-left:auto;margin-right:auto}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.ml-2{margin-left:0.5rem}.mt-1{margin-top:0.25rem}.mt-2{margin-top:0.5rem}.mt-3{margin-top:0.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.block{display:block}.flex{display:flex}.h-4{height:1rem}.min-h-screen{min-height:100vh}.w-24{width:6rem}.w-4{width:1rem}.w-full{width:100%}.max-w-2xl{max-width:42rem}.max-w-4xl{max-width:56rem}.border-collapse{border-collapse:collapse}.list-decimal{list-style-type:decimal}.list-disc{list-style-type:disc}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.space-y-1\.5 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.375rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.375rem * var(--tw-space-y-reverse))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.rounded-md{border-radius:0.375rem}.rounded-xl{border-radius:0.75rem}.border{border-width:1px}.border-blue-200{--tw-border-opacity:1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.bg-blue-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity:1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right, var(--tw-gradient-stops))}.from-blue-50{--tw-gradient-from:#eff6ff var(--tw-gradient-from-position);--tw-gradient-to:rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.to-gray-100{--tw-gradient-to:#f3f4f6 var(--tw-gradient-to-position)}.p-4{padding:1rem}.p-1\.5{padding:0.375rem}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.pl-5{padding-left:1.25rem}.text-center{text-align:center}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.italic{font-style:italic}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-green-700:hover{--tw-bg-opacity:1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.focus\:border-blue-600:focus{--tw-border-opacity:1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1))}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-blue-600:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(37 99 235 / var(--tw-ring-opacity, 1))}@media (min-width: 640px){.sm\:w-32{width:8rem}.sm\:w-auto{width:auto}.sm\:flex-row{flex-direction:row}.sm\:gap-6{gap:1.5rem}.sm\:p-6{padding:1.5rem}.sm\:p-5{padding:1.25rem}.sm\:text-2xl{font-size:1.5rem;line-height:2rem}.sm\:text-base{font-size:1rem;line-height:1.5rem}.sm\:text-lg{font-size:1.125rem;line-height:1.75rem}.sm\:text-sm{font-size:0.875rem;line-height:1.25rem}.sm\:text-xl{font-size:1.25rem;line-height:1.75rem}}@media (min-width: 768px){.md\:w-1\/2{width:50%}.md\:flex-row{flex-direction:row}}</style></head>
<body class="bg-gradient-to-br from-blue-50 to-gray-100 min-h-screen flex flex-col items-center p-4 sm:p-6">
    <main class="w-full max-w-4xl flex flex-col md:flex-row gap-4 sm:gap-6">
        <section class="bg-white rounded-xl shadow-md p-4 sm:p-5 w-full md:w-1/2">
            <h1 class="text-xl sm:text-2xl font-bold text-blue-800 mb-4 text-center">T√≠nh ƒêi·ªÉm &amp; Gi·∫£m H·ªçc Ph√≠</h1>
            <h2 class="text-lg sm:text-xl font-semibold text-blue-700 mb-3">Nh·∫≠p Th√¥ng Tin &amp; ƒêi·ªÉm</h2>
            <form class="space-y-3" id="inputForm">
                <div>
                    <label for="fullName" class="block text-sm font-medium text-gray-700">H·ªç v√† t√™n *</label>
                    <input type="text" id="fullName" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-sm sm:text-base" placeholder="H·ªç t√™n" required="" oninput="capitalizeWords(this)" onkeypress="handleEnter(event, this)" aria-label="H·ªç v√† t√™n">
                </div>
                <div>
                    <label for="dob" class="block text-sm font-medium text-gray-700">Ng√†y sinh *</label>
                    <input type="date" id="dob" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-sm sm:text-base" required="" onkeypress="handleEnter(event, this)" aria-label="Ng√†y sinh">
                </div>
                <div>
                    <label for="birthPlace" class="block text-sm font-medium text-gray-700">N∆°i sinh *</label>
                    <input type="text" id="birthPlace" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-sm sm:text-base" placeholder="N∆°i sinh" required="" oninput="capitalizeWords(this)" onkeypress="handleEnter(event, this)" aria-label="N∆°i sinh">
                </div>
                <div>
                    <label for="address" class="block text-sm font-medium text-gray-700">ƒê·ªãa ch·ªâ *</label>
                    <input type="text" id="address" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-sm sm:text-base" placeholder="ƒê·ªãa ch·ªâ" required="" oninput="capitalizeWords(this)" onkeypress="handleEnter(event, this)" aria-label="ƒê·ªãa ch·ªâ">
                </div>
                <div>
                    <label for="phone" class="block text-sm font-medium text-gray-700">S·ªë ƒëi·ªán tho·∫°i *</label>
                    <input type="tel" id="phone" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-sm sm:text-base" placeholder="S·ªë ƒëi·ªán tho·∫°i (10 s·ªë)" pattern="[0-9]{10}" required="" oninput="validatePhone(this)" onkeypress="handleEnter(event, this)" aria-label="S·ªë ƒëi·ªán tho·∫°i">
                    <div id="error-phone" class="error-message">S·ªë ƒëi·ªán tho·∫°i ph·∫£i l√† 10 ch·ªØ s·ªë, kh√¥ng ch·ª©a ch·ªØ c√°i.</div>
                </div>
                <div class="custom-select">
                    <label for="major" class="block text-sm font-medium text-gray-700">Ng√†nh h·ªçc *</label>
                    <input type="text" id="major" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-sm sm:text-base" placeholder="Nh·∫≠p ng√†nh (VD: C√¥ng ngh·ªá)" required="" oninput="filterMajors(this); capitalizeWords(this)" onkeypress="handleEnter(event, this)" onfocus="showSuggestions()" onblur="hideSuggestions()" aria-label="Ng√†nh h·ªçc">
                    <div id="majorSuggestions" class="suggestion-list"></div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">Ch√≠nh s√°ch gi·∫£m h·ªçc ph√≠: (ch·ªçn ch√≠nh s√°ch mi·ªÖn gi·∫£m theo m·ª•c c·ªßa vƒÉn b·∫£n ch√≠nh s√°ch)</label>
                    <div class="space-y-2 mt-2">
                        <div class="flex items-center policy-option">
                            <input type="radio" id="policy1" name="discountPolicy" value="1" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" onchange="toggleEduTypeAndScoreTable()" aria-label="H·ªô ngh√®o, c·∫≠n ngh√®o">
                            <label for="policy1" class="ml-2 text-sm text-gray-700">1. H·ªô ngh√®o, c·∫≠n ngh√®o (50% nƒÉm th·ª© nh·∫•t)</label>
                            <div id="policy1Options" class="sub-policy" style="display: none;">
                                <div class="flex items-center">
                                    <input type="radio" id="policy1_poor" name="policy1Type" value="poor" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" checked="">
                                    <label for="policy1_poor" class="ml-2 text-sm text-gray-700">H·ªô ngh√®o</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy1_nearPoor" name="policy1Type" value="nearPoor" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy1_nearPoor" class="ml-2 text-sm text-gray-700">C·∫≠n ngh√®o</label>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center policy-option">
                            <input type="radio" id="policy2" name="discountPolicy" value="2" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" onchange="toggleEduTypeAndScoreTable()" aria-label="M·ªì c√¥i cha ho·∫∑c m·∫π">
                            <label for="policy2" class="ml-2 text-sm text-gray-700">2. M·ªì c√¥i cha ho·∫∑c m·∫π (50% nƒÉm th·ª© nh·∫•t)</label>
                            <div id="policy2Options" class="sub-policy" style="display: none;">
                                <div class="flex items-center">
                                    <input type="radio" id="policy2_father" name="policy2Type" value="father" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" checked="">
                                    <label for="policy2_father" class="ml-2 text-sm text-gray-700">M·ªì c√¥i cha</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy2_mother" name="policy2Type" value="mother" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy2_mother" class="ml-2 text-sm text-gray-700">M·ªì c√¥i m·∫π</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy2_both" name="policy2Type" value="both" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy2_both" class="ml-2 text-sm text-gray-700">M·ªì c√¥i cha v√† m·∫π</label>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center policy-option">
                            <input type="radio" id="policy3" name="discountPolicy" value="3" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" onchange="toggleEduTypeAndScoreTable()" aria-label="Con ng∆∞·ªùi c√≥ c√¥ng, d√¢n t·ªôc thi·ªÉu s·ªë">
                            <label for="policy3" class="ml-2 text-sm text-gray-700">3. Con ng∆∞·ªùi c√≥ c√¥ng, d√¢n t·ªôc thi·ªÉu s·ªë,... (40% HK1)</label>
                            <div id="policy3Options" class="sub-policy" style="display: none;">
                                <div class="flex items-center">
                                    <input type="radio" id="policy3_revolutionary" name="policy3Type" value="revolutionary" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" checked="">
                                    <label for="policy3_revolutionary" class="ml-2 text-sm text-gray-700">Con c·ªßa ng∆∞·ªùi c√≥ c√¥ng v·ªõi c√°ch m·∫°ng</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy3_sibling" name="policy3Type" value="sibling" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy3_sibling" class="ml-2 text-sm text-gray-700">C√≥ anh/ch·ªã ƒëang l√† sinh vi√™n ƒêHCL</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy3_minority" name="policy3Type" value="minority" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy3_minority" class="ml-2 text-sm text-gray-700">Ng∆∞·ªùi d√¢n t·ªôc thi·ªÉu s·ªë</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy3_teacherChild" name="policy3Type" value="teacherChild" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy3_teacherChild" class="ml-2 text-sm text-gray-700">Con ru·ªôt c·ªßa CB, GV tr∆∞·ªùng THPT,...</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy3_mkuRelative" name="policy3Type" value="mkuRelative" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy3_mkuRelative" class="ml-2 text-sm text-gray-700">Con, em, ch√°u ru·ªôt c·ªßa CB, GV ƒêHCL</label>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center policy-option">
                            <input type="radio" id="policy4" name="discountPolicy" value="4" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" onchange="toggleEduTypeAndScoreTable()" aria-label="H·ªçc sinh Vƒ©nh Long ho·∫∑c Ph√∫ Qu·ªõi">
                            <label for="policy4" class="ml-2 text-sm text-gray-700">4. H·ªçc sinh Vƒ©nh Long ho·∫∑c Ph√∫ Qu·ªõi</label>
                            <div id="policy4Options" class="sub-policy" style="display: none;">
                                <div class="flex items-center">
                                    <input type="radio" id="policy4_20" name="policy4Type" value="20%" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" checked="">
                                    <label for="policy4_20" class="ml-2 text-sm text-gray-700">H·ªçc sinh THPT, TTGDTX ·ªü Vƒ©nh Long (20% HK1)</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy4_40" name="policy4Type" value="40%" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy4_40" class="ml-2 text-sm text-gray-700">H·ªçc sinh THCS v√† THPT Ph√∫ Qu·ªõi (40% HK1)</label>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center policy-option">
                            <input type="radio" id="policy5" name="discountPolicy" value="5" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" onchange="toggleEduTypeAndScoreTable()" aria-label="Ng√†nh ∆∞u ti√™n gi·∫£m h·ªçc ph√≠ tr·ªçn kh√≥a">
                            <label for="policy5" class="ml-2 text-sm text-gray-700">5. c√°c Ng√†nh ∆∞u ti√™n gi·∫£m h·ªçc ph√≠: H·ªô sinh,..</label>
                            <div id="policy5Options" class="sub-policy" style="display: none;">
                                <div class="flex items-center">
                                    <input type="radio" id="policy5_socialWork" name="policy5Type" value="C√¥ng t√°c x√£ h·ªôi" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" checked="">
                                    <label for="policy5_socialWork" class="ml-2 text-sm text-gray-700">C√¥ng t√°c x√£ h·ªôi</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy5_transport" name="policy5Type" value="K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy5_transport" class="ml-2 text-sm text-gray-700">K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy5_biomedical" name="policy5Type" value="K·ªπ thu·∫≠t y sinh" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy5_biomedical" class="ml-2 text-sm text-gray-700">K·ªπ thu·∫≠t y sinh</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy5_commerce" name="policy5Type" value="Kinh doanh th∆∞∆°ng m·∫°i" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy5_commerce" class="ml-2 text-sm text-gray-700">Kinh doanh th∆∞∆°ng m·∫°i</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy5_midwifery" name="policy5Type" value="H·ªô sinh" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy5_midwifery" class="ml-2 text-sm text-gray-700">H·ªô sinh</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy5_imaging" name="policy5Type" value="K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy5_imaging" class="ml-2 text-sm text-gray-700">K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc</label>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center policy-option">
                            <input type="radio" id="policy9" name="discountPolicy" value="9" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" onchange="toggleEduTypeAndScoreTable()" aria-label="D√¢n t·ªôc Khmer">
                            <label for="policy9" class="ml-2 text-sm text-gray-700">9. D√¢n t·ªôc Khmer gi·ªõi thi·ªáu c·ªßa Ban D√¢n t·ªôc c√°c t·ªânh</label>
                            <div id="policy9Options" class="sub-policy" style="display: none;">
                                <div class="flex items-center">
                                    <input type="radio" id="policy9_anGiang" name="policy9Type" value="An Giang" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" checked="">
                                    <label for="policy9_anGiang" class="ml-2 text-sm text-gray-700">An Giang</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy9_bacLieu" name="policy9Type" value="B·∫°c Li√™u" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy9_bacLieu" class="ml-2 text-sm text-gray-700">B·∫°c Li√™u</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy9_hauGiang" name="policy9Type" value="H·∫≠u Giang" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy9_hauGiang" class="ml-2 text-sm text-gray-700">H·∫≠u Giang</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy9_kienGiang" name="policy9Type" value="Ki√™n Giang" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy9_kienGiang" class="ml-2 text-sm text-gray-700">Ki√™n Giang</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy9_socTrang" name="policy9Type" value="S√≥c TrƒÉng" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy9_socTrang" class="ml-2 text-sm text-gray-700">S√≥c TrƒÉng</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy9_traVinh" name="policy9Type" value="Tr√† Vinh" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy9_traVinh" class="ml-2 text-sm text-gray-700">Tr√† Vinh</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy9_vinhLong" name="policy9Type" value="Vƒ©nh Long" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy9_vinhLong" class="ml-2 text-sm text-gray-700">Vƒ©nh Long</label>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center policy-option">
                            <input type="radio" id="policy10" name="discountPolicy" value="10" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" onchange="toggleEduTypeAndScoreTable()" aria-label="Con th∆∞∆°ng binh, con li·ªát sƒ©">
                            <label for="policy10" class="ml-2 text-sm text-gray-700">10. Con th∆∞∆°ng binh, con li·ªát sƒ© (50% HK1)</label>
                            <div id="policy10Options" class="sub-policy" style="display: none;">
                                <div class="flex items-center">
                                    <input type="radio" id="policy10_wounded" name="policy10Type" value="wounded" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" checked="">
                                    <label for="policy10_wounded" class="ml-2 text-sm text-gray-700">Con th∆∞∆°ng binh</label>
                                </div>
                                <div class="flex items-center mt-1">
                                    <input type="radio" id="policy10_martyr" name="policy10Type" value="martyr" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300">
                                    <label for="policy10_martyr" class="ml-2 text-sm text-gray-700">Con li·ªát sƒ©</label>
                                </div>
                            </div>
                        </div>
                        <div class="flex items-center policy-option">
                            <input type="radio" id="policyByScore" name="discountPolicy" value="byScore" class="h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300" onchange="toggleEduTypeAndScoreTable()" aria-label="Ch√≠nh s√°ch d·ª±a tr√™n ƒëi·ªÉm trung b√¨nh">
                            <label for="policyByScore" class="ml-2 text-sm text-gray-700">6 &amp; 7 &amp; 8 &amp;D·ª±a tr√™n ƒëi·ªÉm trung b√¨nh l·ªõp 12</label>
                        </div>
                    </div>
                    <button type="button" onclick="clearPolicySelection()" class="mt-2 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm sm:text-base">X√≥a l·ª±a ch·ªçn</button>
                </div>
                <div class="custom-select" id="eduTypeContainer" style="display: none;">
                    <label for="eduType" class="block text-sm font-medium text-gray-700">Lo·∫°i h√¨nh gi√°o d·ª•c *</label>
                    <select id="eduType" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-sm sm:text-base" onchange="updateSubjectTable()" aria-label="Lo·∫°i h√¨nh gi√°o d·ª•c">
                        <option value="thpt">üìö THPT Ch√≠nh Quy (9 m√¥n)</option>
                        <option value="gdtx">üìò THPT GDTX (7 m√¥n)</option>
                    </select>
                </div>
                <table class="w-full border-collapse bg-gray-50 rounded-md overflow-hidden" id="scoreTable" style="display: none;">
                    <thead>
                        <tr>
                            <th class="border border-gray-200 p-2 bg-blue-600 text-white text-xs sm:text-sm font-semibold">M√¥n h·ªçc</th>
                            <th class="border border-gray-200 p-2 bg-blue-600 text-white text-xs sm:text-sm font-semibold">ƒêi·ªÉm (10‚Äì100)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border border-gray-200 p-1.5 text-xs sm:text-sm">Ng·ªØ vƒÉn</td>
                            <td class="border border-gray-200 p-1.5 relative text-center">
                                <input type="number" inputmode="numeric" class="input-field w-full px-2 py-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-xs sm:text-sm" id="sub1" min="10" max="100" step="1" oninput="validateScore(this)" onkeypress="handleEnter(event, this)" aria-label="ƒêi·ªÉm Ng·ªØ vƒÉn">
                                <div id="error-sub1" class="error-message" style="display: none;">ƒêi·ªÉm t·ª´ 10‚Äì100</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="border border-gray-200 p-1.5 text-xs sm:text-sm">To√°n</td>
                            <td class="border border-gray-200 p-1.5 relative text-center">
                                <input type="number" inputmode="numeric" class="input-field w-full px-2 py-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-xs sm:text-sm" id="sub2" min="10" max="100" step="1" oninput="validateScore(this)" onkeypress="handleEnter(event, this)" aria-label="ƒêi·ªÉm To√°n">
                                <div id="error-sub2" class="error-message" style="display: none;">ƒêi·ªÉm t·ª´ 10‚Äì100</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="border border-gray-200 p-1.5 text-xs sm:text-sm">Ti·∫øng Anh</td>
                            <td class="border border-gray-200 p-1.5 relative text-center">
                                <input type="number" inputmode="numeric" class="input-field w-full px-2 py-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-xs sm:text-sm" id="sub3" min="10" max="100" step="1" oninput="validateScore(this)" onkeypress="handleEnter(event, this)" aria-label="ƒêi·ªÉm Ti·∫øng Anh">
                                <div id="error-sub3" class="error-message" style="display: none;">ƒêi·ªÉm t·ª´ 10‚Äì100</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="border border-gray-200 p-1.5 text-xs sm:text-sm">Qu·ªëc ph√≤ng - An ninh</td>
                            <td class="border border-gray-200 p-1.5 relative text-center">
                                <input type="number" inputmode="numeric" class="input-field w-full px-2 py-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-xs sm:text-sm" id="sub4" min="10" max="100" step="1" oninput="validateScore(this)" onkeypress="handleEnter(event, this)" aria-label="ƒêi·ªÉm Qu·ªëc ph√≤ng - An ninh">
                                <div id="error-sub4" class="error-message" style="display: none;">ƒêi·ªÉm t·ª´ 10‚Äì100</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="border border-gray-200 p-1.5 text-xs sm:text-sm">V·∫≠t l√Ω</td>
                            <td class="border border-gray-200 p-1.5 relative text-center">
                                <input type="number" inputmode="numeric" class="input-field w-full px-2 py-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-xs sm:text-sm" id="sub5" min="10" max="100" step="1" oninput="validateScore(this)" onkeypress="handleEnter(event, this)" aria-label="ƒêi·ªÉm V·∫≠t l√Ω">
                                <div id="error-sub5" class="error-message" style="display: none;">ƒêi·ªÉm t·ª´ 10‚Äì100</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="border border-gray-200 p-1.5 text-xs sm:text-sm">L·ªãch s·ª≠</td>
                            <td class="border border-gray-200 p-1.5 relative text-center">
                                <input type="number" inputmode="numeric" class="input-field w-full px-2 py-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-xs sm:text-sm" id="sub6" min="10" max="100" step="1" oninput="validateScore(this)" onkeypress="handleEnter(event, this)" aria-label="ƒêi·ªÉm L·ªãch s·ª≠">
                                <div id="error-sub6" class="error-message" style="display: none;">ƒêi·ªÉm t·ª´ 10‚Äì100</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="border border-gray-200 p-1.5 text-xs sm:text-sm">ƒê·ªãa l√Ω</td>
                            <td class="border border-gray-200 p-1.5 relative text-center">
                                <input type="number" inputmode="numeric" class="input-field w-full px-2 py-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-xs sm:text-sm" id="sub7" min="10" max="100" step="1" oninput="validateScore(this)" onkeypress="handleEnter(event, this)" aria-label="ƒêi·ªÉm ƒê·ªãa l√Ω">
                                <div id="error-sub7" class="error-message" style="display: none;">ƒêi·ªÉm t·ª´ 10‚Äì100</div>
                            </td>
                        </tr>
                        <tr id="sub8-row" style="display: table-row;">
                            <td class="border border-gray-200 p-1.5 text-xs sm:text-sm">Gi√°o d·ª•c KT &amp; PL</td>
                            <td class="border border-gray-200 p-1.5 relative text-center">
                                <input type="number" inputmode="numeric" class="input-field w-full px-2 py-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-xs sm:text-sm" id="sub8" min="10" max="100" step="1" oninput="validateScore(this)" onkeypress="handleEnter(event, this)" aria-label="ƒêi·ªÉm Gi√°o d·ª•c KT &amp; PL">
                                <div id="error-sub8" class="error-message" style="display: none;">ƒêi·ªÉm t·ª´ 10‚Äì100</div>
                            </td>
                        </tr>
                        <tr id="sub9-row" style="display: table-row;">
                            <td class="border border-gray-200 p-1.5 text-xs sm:text-sm">Tin h·ªçc</td>
                            <td class="border border-gray-200 p-1.5 relative text-center">
                                <input type="number" inputmode="numeric" class="input-field w-full px-2 py-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-600 focus:border-blue-600 text-xs sm:text-sm" id="sub9" min="10" max="100" step="1" oninput="validateScore(this)" onkeypress="handleEnter(event, this)" aria-label="ƒêi·ªÉm Tin h·ªçc">
                                <div id="error-sub9" class="error-message" style="display: none;">ƒêi·ªÉm t·ª´ 10‚Äì100</div>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p id="scoreInstruction" class="text-xs sm:text-sm text-blue-600 italic mt-2" style="display: none;">Nh·∫≠p ƒëi·ªÉm theo thang 100 (VD: 6.7 ‚Üí 67, 8.5 ‚Üí 85). K·∫øt qu·∫£ ƒëi·ªÉm trung b√¨nh s·∫Ω hi·ªÉn th·ªã theo thang 10 (0.0‚Äì10.0).</p>
                <div class="flex flex-col sm:flex-row gap-3">
                    <button type="button" onclick="calculateAverage()" id="calculateButton" class="w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm sm:text-base font-semibold">Ki·ªÉm Tra K·∫øt Qu·∫£ Gi·∫£m</button>
                    <button type="button" onclick="generateApplicationForm()" class="w-full sm:w-auto px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm sm:text-base font-semibold">T·∫°o Form H·ªó Tr·ª£</button>
                </div>
                <div id="totalResult" class="mt-3 p-3 bg-blue-50 border border-blue-200 rounded-md text-sm sm:text-base font-semibold text-blue-800 text-center">K·∫øt qu·∫£: Ch∆∞a ki·ªÉm tra</div>
            </form>
        </section>
        <section class="bg-white rounded-xl shadow-md p-4 sm:p-5 w-full md:w-1/2">
            <div class="text-center mb-4">
                <a href="https://tuyensinh.mku.edu.vn/" target="_blank">
                    <img src="https://upload.wikimedia.org/wikipedia/vi/thumb/d/de/Logo_Tr%C6%B0%E1%BB%9Dng_%C4%90%E1%BA%A1i_h%E1%BB%8Dc_C%E1%BB%ADu_Long.svg/1200px-Logo_Tr%C6%B0%E1%BB%9Dng_%C4%90%E1%BA%A1i_h%E1%BB%8Dc_C%E1%BB%ADu_Long.svg.png" alt="Logo ƒê·∫°i h·ªçc C·ª≠u Long" class="w-24 sm:w-32 mx-auto hover:scale-105 transition-transform duration-300">
                </a>
            </div>
            <h2 class="text-lg sm:text-xl font-semibold text-blue-700 mb-3">Ch√≠nh S√°ch Gi·∫£m H·ªçc Ph√≠ (ƒê·ªçc ch√≠nh s√°ch ƒë·ªÉ ch·ªçn ƒë√∫ng ƒëi·ªÅu ki·ªán mi·ªÖn gi·∫£m h·ªçc ph√≠)</h2>
            <ul id="policyList" class="list-decimal pl-5 space-y-1.5 text-xs sm:text-sm text-gray-700">
                <li data-policy="1">Gi·∫£m 50% h·ªçc ph√≠ nƒÉm th·ª© nh·∫•t cho t√¢n sinh vi√™n h·ªô ngh√®o, c·∫≠n ngh√®o (kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="2">Gi·∫£m 50% h·ªçc ph√≠ nƒÉm th·ª© nh·∫•t cho t√¢n sinh vi√™n m·ªì c√¥i cha ho·∫∑c m·∫π (kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="3">Gi·∫£m 40% h·ªçc ph√≠ HK1 nƒÉm th·ª© nh·∫•t cho t√¢n sinh vi√™n l√† con c·ªßa ng∆∞·ªùi c√≥ c√¥ng v·ªõi c√°ch m·∫°ng, c√≥ anh/ch·ªã ƒëang l√† sinh vi√™n ƒêHCL, ng∆∞·ªùi d√¢n t·ªôc thi·ªÉu s·ªë, con ru·ªôt c·ªßa CB, GV tr∆∞·ªùng THPT, TTGDTX, S·ªü GD&amp;ƒêT c√°c t·ªânh, ho·∫∑c con, em, ch√°u ru·ªôt c·ªßa CB, GV ƒêHCL (kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="4">Gi·∫£m 20% h·ªçc ph√≠ HK1 nƒÉm th·ª© nh·∫•t cho h·ªçc sinh THPT, TTGDTX ·ªü Vƒ©nh Long. Ri√™ng h·ªçc sinh THCS v√† THPT Ph√∫ Qu·ªõi gi·∫£m 40% HK1 (kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="5">Gi·∫£m 20% h·ªçc ph√≠ tr·ªçn kh√≥a cho ng√†nh C√¥ng t√°c x√£ h·ªôi, K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng, K·ªπ thu·∫≠t y sinh, Kinh doanh th∆∞∆°ng m·∫°i, H·ªô sinh, K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc.</li>
                <li data-policy="6">Mi·ªÖn h·ªçc ph√≠ HK1 nƒÉm nh·∫•t n·∫øu ƒëi·ªÉm TBM l·ªõp 12 t·ª´ 9.0 tr·ªü l√™n, ri√™ng ng√†nh D∆∞·ª£c h·ªçc gi·∫£m 50% HK1 (kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="7">Gi·∫£m 50% h·ªçc ph√≠ HK1 nƒÉm nh·∫•t n·∫øu ƒëi·ªÉm TBM l·ªõp 12 t·ª´ 8.5‚Äìd∆∞·ªõi 9.0, ri√™ng D∆∞·ª£c h·ªçc gi·∫£m 25% HK1 (kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="8">Gi·∫£m 25% h·ªçc ph√≠ HK1 n·∫øu ƒëi·ªÉm TBM l·ªõp 12 t·ª´ 8.0‚Äìd∆∞·ªõi 8.5 (kh√¥ng √°p d·ª•ng cho D∆∞·ª£c h·ªçc, Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="9">Mi·ªÖn h·ªçc ph√≠ to√†n kh√≥a cho sinh vi√™n d√¢n t·ªôc Khmer theo gi·ªõi thi·ªáu c·ªßa Ban D√¢n t·ªôc c√°c t·ªânh: An Giang, B·∫°c Li√™u, H·∫≠u Giang, Ki√™n Giang, S√≥c TrƒÉng, Tr√† Vinh, Vƒ©nh Long (kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).</li>
                <li data-policy="10">Gi·∫£m 50% h·ªçc ph√≠ HK1 nƒÉm th·ª© nh·∫•t cho con th∆∞∆°ng binh, con li·ªát sƒ©.</li>
                <li data-policy="11">T·∫∑ng 01 b·ªô ƒë·ªìng ph·ª•c th·ªÉ d·ª•c ƒêHCL cho m·ªói t√¢n sinh vi√™n nh·∫≠p h·ªçc.</li>
                <li data-policy="12">Kh√°m s·ª©c kh·ªèe mi·ªÖn ph√≠ cho t√¢n sinh vi√™n ƒë·ªÉ ho√†n th√†nh h·ªì s∆° nh·∫≠p h·ªçc.</li>
            </ul>
            <h3 class="text-base sm:text-lg font-semibold text-blue-700 mt-4">Th√¥ng Tin M√¥n H·ªçc</h3>
            <div class="mt-2 text-xs sm:text-sm text-gray-700">
                <h4 class="font-medium text-blue-600">üìö THPT Ch√≠nh Quy</h4>
                <p>H·ªçc 12‚Äì13 m√¥n/nƒÉm, t√≠nh TBM 11‚Äì12 m√¥n:</p>
                <ul class="list-disc pl-5">
                    <li><strong>M√¥n ch√≠nh:</strong> To√°n, Ng·ªØ VƒÉn, Ti·∫øng Anh, V·∫≠t L√Ω, H√≥a H·ªçc, Sinh H·ªçc, L·ªãch S·ª≠, ƒê·ªãa L√Ω, Gi√°o d·ª•c c√¥ng d√¢n, C√¥ng ngh·ªá, Tin h·ªçc, Qu·ªëc ph√≤ng ‚Äì An ninh.</li>
                    <li><strong>Kh√¥ng t√≠nh TBM:</strong> Gi√°o d·ª•c th·ªÉ ch·∫•t.</li>
                </ul>
                <h4 class="font-medium text-blue-600 mt-3">üìò THPT GDTX</h4>
                <p>H·ªçc 7 m√¥n, t√≠nh TBM 6‚Äì7 m√¥n:</p>
                <ul class="list-disc pl-5">
                    <li><strong>M√¥n ch√≠nh:</strong> To√°n, Ng·ªØ VƒÉn, Ti·∫øng Anh, L·ªãch S·ª≠, ƒê·ªãa L√Ω, V·∫≠t L√Ω ho·∫∑c H√≥a H·ªçc, Gi√°o d·ª•c c√¥ng d√¢n.</li>
                    <li><strong>Kh√¥ng h·ªçc:</strong> Tin h·ªçc, C√¥ng ngh·ªá, Th·ªÉ d·ª•c, Qu·ªëc ph√≤ng ‚Äì An ninh.</li>
                </ul>
                <p class="mt-3 italic text-gray-500 text-xs">L∆∞u √Ω: Ch·ªâ √°p d·ª•ng cho t√¢n sinh vi√™n t·ªët nghi·ªáp THPT 2025. N·∫øu thu·ªôc nhi·ªÅu di·ªán, ch·ªâ h∆∞·ªüng m·ª©c cao nh·∫•t. M·ª•c 1‚Äì4, 6‚Äì9 kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t. M·ª•c 5 √°p d·ª•ng khi ch·ªçn ng√†nh C√¥ng t√°c x√£ h·ªôi, K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng, K·ªπ thu·∫≠t y sinh, Kinh doanh th∆∞∆°ng m·∫°i, H·ªô sinh, K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc.</p>
            </div>
        </section>
    </main>
    <footer class="mt-6 w-full max-w-2xl text-center">
        <div class="bg-white rounded-xl shadow-md p-4">
            <div class="flex flex-col sm:flex-row gap-3 justify-center">
                <a href="https://tuyensinh.mku.edu.vn/" target="_blank" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm sm:text-base font-semibold">H·ªçc Ph√≠ - H·ªçc B·ªïng</a>
                <a href="https://tuyensinh.mku.edu.vn/dang-ky-xet-tuyen-truc-tuyen" target="_blank" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm sm:text-base font-semibold">ƒêƒÉng K√Ω X√©t Tuy·ªÉn</a>
                <a href="https://nguyenhoangvu2003.id.vn/" target="_blank" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm sm:text-base font-semibold">Li√™n H·ªá T∆∞ V·∫•n</a>
            </div>
        </div>
    </footer>

    <script>
        const majors = [
            "Y khoa",
            "RƒÉng ‚Äì H√†m ‚Äì M·∫∑t",
            "Y h·ªçc c·ªï truy·ªÅn",
            "D∆∞·ª£c h·ªçc",
            "K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc",
            "H·ªô sinh",
            "K·ªπ thu·∫≠t x√©t nghi·ªám y h·ªçc",
            "K·ªπ thu·∫≠t ph·ª•c h·ªìi ch·ª©c nƒÉng",
            "ƒêi·ªÅu d∆∞·ª°ng",
            "Marketing",
            "Qu·∫£n tr·ªã kinh doanh",
            "Qu·∫£n l√Ω kinh t·∫ø",
            "Kinh doanh th∆∞∆°ng m·∫°i",
            "T√†i ch√≠nh ‚Äì Ng√¢n h√†ng",
            "C√¥ng ngh·ªá t√†i ch√≠nh",
            "K·∫ø to√°n",
            "Thi·∫øt k·∫ø ƒë·ªì h·ªça",
            "Lu·∫≠t",
            "Lu·∫≠t kinh t·∫ø",
            "Qu·∫£n tr·ªã d·ªãch v·ª• du l·ªãch v√† l·ªØ h√†nh",
            "C√¥ng ngh·ªá th√¥ng tin",
            "C√¥ng ngh·ªá k·ªπ thu·∫≠t c√¥ng tr√¨nh x√¢y d·ª±ng",
            "C√¥ng ngh·ªá k·ªπ thu·∫≠t ƒëi·ªán, ƒëi·ªán t·ª≠",
            "K·ªπ thu·∫≠t y sinh",
            "K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng",
            "C√¥ng ngh·ªá k·ªπ thu·∫≠t √¥ t√¥",
            "C√¥ng ngh·ªá k·ªπ thu·∫≠t c∆° kh√≠",
            "C√¥ng ngh·ªá th·ª±c ph·∫©m",
            "N√¥ng h·ªçc",
            "B·∫£o v·ªá th·ª±c v·∫≠t",
            "Nu√¥i tr·ªìng th·ªßy s·∫£n",
            "Th√∫ y",
            "Ti·∫øng Vi·ªát & VƒÉn h√≥a Vi·ªát Nam",
            "Ng√¥n ng·ªØ Anh",
            "ƒê√¥ng ph∆∞∆°ng h·ªçc",
            "C√¥ng t√°c x√£ h·ªôi",
            "Truy·ªÅn th√¥ng ƒëa ph∆∞∆°ng ti·ªán",
            "Quan h·ªá c√¥ng ch√∫ng"
        ];

        function capitalizeWords(input) {
            let value = input.value;
            let cursorPos = input.selectionStart;
            let words = value.split(' ');
            let newWords = words.map((word, index) => {
                if (word.length > 0) {
                    return word.charAt(0).toUpperCase() + word.slice(1);
                }
                return word;
            });
            let newValue = newWords.join(' ');
            if (newValue !== value) {
                input.value = newValue;
                input.setSelectionRange(cursorPos, cursorPos);
            }
        }

        function validatePhone(input) {
            const value = input.value;
            const errorDiv = document.getElementById('error-phone');
            input.value = value.replace(/[^0-9]/g, '').slice(0, 10);
            if (value.length > 10) {
                errorDiv.style.display = 'block';
                input.classList.add('invalid');
                setTimeout(() => {
                    input.classList.remove('invalid');
                    errorDiv.style.display = 'none';
                }, 1500);
            } else {
                errorDiv.style.display = 'none';
                input.classList.remove('invalid');
            }
        }

        function validateScore(input) {
            let value = input.value.replace(/[^0-9]/g, '');
            const errorDiv = document.getElementById(`error-${input.id}`);
            if (value === '' || (value.length <= 2 && parseInt(value) >= 1)) {
                input.value = value;
                errorDiv.style.display = 'none';
                input.classList.remove('invalid');
                return;
            }
            let parsedValue = parseInt(value);
            if (isNaN(parsedValue) || parsedValue < 10 || parsedValue > 100) {
                errorDiv.style.display = 'block';
                input.classList.add('invalid');
                setTimeout(() => {
                    input.classList.remove('invalid');
                    errorDiv.style.display = 'none';
                    input.value = '';
                }, 1500);
                return;
            }
            input.value = value;
            errorDiv.style.display = 'none';
            input.classList.remove('invalid');
        }

        function filterMajors(input) {
            const value = input.value.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');
            const suggestionsDiv = document.getElementById('majorSuggestions');
            suggestionsDiv.innerHTML = '';
            if (value) {
                const filteredMajors = majors.filter(major => 
                    major.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '').includes(value)
                );
                filteredMajors.forEach((major, index) => {
                    const div = document.createElement('div');
                    div.className = 'suggestion-item';
                    div.textContent = major;
                    div.onclick = () => selectMajor(major);
                    div.onmouseover = () => div.classList.add('active');
                    div.onmouseout = () => div.classList.remove('active');
                    suggestionsDiv.appendChild(div);
                });
                suggestionsDiv.style.display = filteredMajors.length ? 'block' : 'none';
            } else {
                suggestionsDiv.style.display = 'none';
            }
        }

        function showSuggestions() {
            const input = document.getElementById('major');
            if (input.value) filterMajors(input);
        }

        function hideSuggestions() {
            setTimeout(() => {
                document.getElementById('majorSuggestions').style.display = 'none';
            }, 200);
        }

        function selectMajor(major) {
            document.getElementById('major').value = major;
            document.getElementById('majorSuggestions').style.display = 'none';
            const eligibleMajors = [
                'C√¥ng t√°c x√£ h·ªôi',
                'K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng',
                'K·ªπ thu·∫≠t y sinh',
                'Kinh doanh th∆∞∆°ng m·∫°i',
                'H·ªô sinh',
                'K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc'
            ];
            if (eligibleMajors.includes(major)) {
                document.getElementById('policy5').checked = true;
                document.getElementById(`policy5_${major.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '').replace(/\s+/g, '')}`).checked = true;
                toggleEduTypeAndScoreTable();
            }
        }

        function handleEnter(event, currentInput) {
            if (event.key === 'Enter') {
                event.preventDefault();
                const suggestionsDiv = document.getElementById('majorSuggestions');
                if (currentInput.id === 'major' && suggestionsDiv.style.display === 'block') {
                    const firstSuggestion = suggestionsDiv.querySelector('.suggestion-item');
                    if (firstSuggestion) selectMajor(firstSuggestion.textContent);
                }
                const form = document.getElementById('inputForm');
                const inputs = Array.from(form.querySelectorAll('input:not([type="radio"]), select')).filter(input => !input.closest('#scoreTable'));
                const scoreInputs = document.getElementById('scoreTable').style.display === 'table' ? Array.from(document.querySelectorAll('#scoreTable input')) : [];
                const allInputs = [...inputs, ...scoreInputs];
                const currentIndex = allInputs.indexOf(currentInput);
                if (currentIndex < allInputs.length - 1) {
                    allInputs[currentIndex + 1].focus();
                    if (['fullName', 'birthPlace', 'address', 'major'].includes(allInputs[currentIndex + 1].id)) {
                        setTimeout(() => capitalizeWords(allInputs[currentIndex + 1]), 0);
                    }
                } else {
                    document.getElementById('calculateButton').focus();
                }
            }
        }

        function toggleEduTypeAndScoreTable() {
            const selectedPolicy = document.querySelector('input[name="discountPolicy"]:checked');
            const eduTypeContainer = document.getElementById('eduTypeContainer');
            const scoreTable = document.getElementById('scoreTable');
            const scoreInstruction = document.getElementById('scoreInstruction');
            const policyOptions = document.querySelectorAll('.sub-policy');
            policyOptions.forEach(option => option.style.display = 'none');
            if (selectedPolicy && selectedPolicy.value === 'byScore') {
                eduTypeContainer.style.display = 'block';
                scoreTable.style.display = 'table';
                scoreInstruction.style.display = 'block';
                updateSubjectTable();
            } else if (selectedPolicy) {
                document.getElementById(`policy${selectedPolicy.value}Options`).style.display = 'block';
                eduTypeContainer.style.display = 'none';
                scoreTable.style.display = 'none';
                scoreInstruction.style.display = 'none';
                document.getElementById('eduType').value = 'thpt';
                document.querySelectorAll('#scoreTable input').forEach(input => {
                    input.value = '';
                    document.getElementById(`error-${input.id}`).style.display = 'none';
                });
            } else {
                eduTypeContainer.style.display = 'none';
                scoreTable.style.display = 'none';
                scoreInstruction.style.display = 'none';
                document.getElementById('eduType').value = 'thpt';
                document.querySelectorAll('#scoreTable input').forEach(input => {
                    input.value = '';
                    document.getElementById(`error-${input.id}`).style.display = 'none';
                });
            }
        }

        function updateSubjectTable() {
            const eduType = document.getElementById('eduType').value;
            const sub8Row = document.getElementById('sub8-row');
            const sub9Row = document.getElementById('sub9-row');
            if (eduType === 'gdtx') {
                sub8Row.style.display = 'none';
                sub9Row.style.display = 'none';
                document.getElementById('sub8').value = '';
                document.getElementById('sub9').value = '';
            } else {
                sub8Row.style.display = 'table-row';
                sub9Row.style.display = 'table-row';
            }
        }

        function calculateAverage() {
            const selectedPolicy = document.querySelector('input[name="discountPolicy"]:checked');
            const majorInput = document.getElementById('major').value;
            const totalResult = document.getElementById('totalResult');
            const phoneInput = document.getElementById('phone');

            if (!majorInput || !majors.includes(majorInput)) {
                totalResult.innerText = 'L·ªói: Vui l√≤ng ch·ªçn ng√†nh h·ªçc h·ª£p l·ªá';
                document.getElementById('major').classList.add('invalid');
                setTimeout(() => document.getElementById('major').classList.remove('invalid'), 1000);
                return;
            }

            if (phoneInput.value.length !== 10 || !/^[0-9]{10}$/.test(phoneInput.value)) {
                totalResult.innerText = 'L·ªói: S·ªë ƒëi·ªán tho·∫°i ph·∫£i l√† 10 ch·ªØ s·ªë';
                phoneInput.classList.add('invalid');
                document.getElementById('error-phone').style.display = 'block';
                setTimeout(() => {
                    phoneInput.classList.remove('invalid');
                    document.getElementById('error-phone').style.display = 'none';
                }, 1500);
                return;
            }

            if (selectedPolicy && ['1', '2', '3', '4', '5', '9', '10'].includes(selectedPolicy.value)) {
                const subType = document.querySelector(`input[name="policy${selectedPolicy.value}Type"]:checked`);
                if (!subType) {
                    totalResult.innerText = `L·ªói: Vui l√≤ng ch·ªçn m·ª•c con cho ch√≠nh s√°ch ${selectedPolicy.value}`;
                    document.getElementById(`policy${selectedPolicy.value}`).classList.add('invalid');
                    setTimeout(() => document.getElementById(`policy${selectedPolicy.value}`).classList.remove('invalid'), 1000);
                    return;
                }
            }

            const major = majorInput.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');
            const restrictedMajors = ['y khoa', 'y hoc co truyen', 'rang ham mat'];
            const pharmacyMajor = ['duoc hoc'];
            const eligibleMajors = [
                'cong tac xa hoi',
                'ky thuat xay dung cong trinh giao thong',
                'ky thuat y sinh',
                'kinh doanh thuong mai',
                'ho sinh',
                'ky thuat hinh anh y hoc'
            ];
            const isRestrictedMajor = restrictedMajors.some(restricted => major.includes(restricted));
            const isPharmacyMajor = pharmacyMajor.some(pharmacy => major.includes(pharmacy));
            const isEligibleMajor = eligibleMajors.some(eligible => major.includes(eligible));
            let discountMessage = '';
            let fullDiscountMessage = '';
            let selectedPolicyId = '';
            let subType = '';

            document.querySelectorAll('#policyList li').forEach(li => li.classList.remove('highlight'));

            if (selectedPolicy && selectedPolicy.value === 'byScore') {
                const eduType = document.getElementById('eduType').value;
                const subjectCount = eduType === 'gdtx' ? 7 : 9;
                const scores = [];

                for (let i = 1; i <= subjectCount; i++) {
                    const input = document.getElementById(`sub${i}`);
                    const value = input.value;
                    if (value === '') {
                        totalResult.innerText = `L·ªói: Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß ƒëi·ªÉm m√¥n ${i}`;
                        input.classList.add('invalid');
                        setTimeout(() => input.classList.remove('invalid'), 1000);
                        return;
                    }
                    const score = parseInt(value);
                    if (isNaN(score) || score < 10 || score > 100) {
                        totalResult.innerText = `L·ªói: ƒêi·ªÉm m√¥n ${i} kh√¥ng h·ª£p l·ªá (10‚Äì100)`;
                        input.classList.add('invalid');
                        setTimeout(() => input.classList.remove('invalid'), 1000);
                        return;
                    }
                    scores.push(score / 10);
                }

                const averageScore = (scores.reduce((sum, score) => sum + score, 0) / subjectCount).toFixed(2);

                if (isRestrictedMajor) {
                    selectedPolicyId = '';
                    discountMessage = `Ng√†nh ${majorInput}: Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gi·∫£m h·ªçc ph√≠ d·ª±a tr√™n ƒëi·ªÉm (6‚Äì8 kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).`;
                    fullDiscountMessage = discountMessage;
                } else if (averageScore >= 9.0) {
                    if (isEligibleMajor) {
                        selectedPolicyId = '5';
                        discountMessage = `Ng√†nh ${majorInput}: Gi·∫£m 20% h·ªçc ph√≠ tr·ªçn kh√≥a cho ng√†nh C√¥ng t√°c x√£ h·ªôi, K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng, K·ªπ thu·∫≠t y sinh, Kinh doanh th∆∞∆°ng m·∫°i, H·ªô sinh, K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc (∆∞u ti√™n cao h∆°n so v·ªõi ch√≠nh s√°ch ƒëi·ªÉm).`;
                        fullDiscountMessage = discountMessage;
                    } else if (isPharmacyMajor) {
                        selectedPolicyId = '6';
                        discountMessage = `Ng√†nh D∆∞·ª£c h·ªçc: Gi·∫£m 50% h·ªçc ph√≠ HK1 nƒÉm nh·∫•t (TBM ${averageScore} ‚â• 9.0).`;
                        fullDiscountMessage = document.querySelector(`#policyList li[data-policy="6"]`).textContent.replace(/^\d+\.\s*/, '');
                    } else {
                        selectedPolicyId = '6';
                        discountMessage = `Mi·ªÖn h·ªçc ph√≠ HK1 nƒÉm nh·∫•t (TBM ${averageScore} ‚â• 9.0).`;
                        fullDiscountMessage = document.querySelector(`#policyList li[data-policy="6"]`).textContent.replace(/^\d+\.\s*/, '');
                    }
                } else if (averageScore >= 8.5) {
                    if (isEligibleMajor) {
                        selectedPolicyId = '5';
                        discountMessage = `Ng√†nh ${majorInput}: Gi·∫£m 20% h·ªçc ph√≠ tr·ªçn kh√≥a cho ng√†nh C√¥ng t√°c x√£ h·ªôi, K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng, K·ªπ thu·∫≠t y sinh, Kinh doanh th∆∞∆°ng m·∫°i, H·ªô sinh, K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc (∆∞u ti√™n cao h∆°n so v·ªõi ch√≠nh s√°ch ƒëi·ªÉm).`;
                        fullDiscountMessage = discountMessage;
                    } else if (isPharmacyMajor) {
                        selectedPolicyId = '7';
                        discountMessage = `Ng√†nh D∆∞·ª£c h·ªçc: Gi·∫£m 25% h·ªçc ph√≠ HK1 nƒÉm nh·∫•t (TBM ${averageScore} t·ª´ 8.5‚Äìd∆∞·ªõi 9.0).`;
                        fullDiscountMessage = document.querySelector(`#policyList li[data-policy="7"]`).textContent.replace(/^\d+\.\s*/, '');
                    } else {
                        selectedPolicyId = '7';
                        discountMessage = `Gi·∫£m 50% h·ªçc ph√≠ HK1 nƒÉm nh·∫•t (TBM ${averageScore} t·ª´ 8.5‚Äìd∆∞·ªõi 9.0).`;
                        fullDiscountMessage = document.querySelector(`#policyList li[data-policy="7"]`).textContent.replace(/^\d+\.\s*/, '');
                    }
                } else if (averageScore >= 8.0) {
                    if (isEligibleMajor) {
                        selectedPolicyId = '5';
                        discountMessage = `Ng√†nh ${majorInput}: Gi·∫£m 20% h·ªçc ph√≠ tr·ªçn kh√≥a cho ng√†nh C√¥ng t√°c x√£ h·ªôi, K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng, K·ªπ thu·∫≠t y sinh, Kinh doanh th∆∞∆°ng m·∫°i, H·ªô sinh, K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc (∆∞u ti√™n cao h∆°n so v·ªõi ch√≠nh s√°ch ƒëi·ªÉm).`;
                        fullDiscountMessage = discountMessage;
                    } else if (isPharmacyMajor || isRestrictedMajor) {
                        selectedPolicyId = '';
                        discountMessage = `Ng√†nh ${majorInput}: Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gi·∫£m h·ªçc ph√≠ (ch√≠nh s√°ch 8 kh√¥ng √°p d·ª•ng cho D∆∞·ª£c h·ªçc, Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).`;
                        fullDiscountMessage = discountMessage;
                    } else {
                        selectedPolicyId = '8';
                        discountMessage = `Gi·∫£m 25% h·ªçc ph√≠ HK1 nƒÉm nh·∫•t (TBM ${averageScore} t·ª´ 8.0‚Äìd∆∞·ªõi 8.5).`;
                        fullDiscountMessage = document.querySelector(`#policyList li[data-policy="8"]`).textContent.replace(/^\d+\.\s*/, '');
                    }
                } else if (isEligibleMajor) {
                    selectedPolicyId = '5';
                    discountMessage = document.querySelector(`#policyList li[data-policy="5"]`).textContent.replace(/^\d+\.\s*/, '');
                    fullDiscountMessage = discountMessage;
                } else {
                    selectedPolicyId = '';
                    discountMessage = `TBM ${averageScore}: Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gi·∫£m h·ªçc ph√≠.`;
                    fullDiscountMessage = discountMessage;
                }
                totalResult.innerText = `ƒêi·ªÉm trung b√¨nh: ${averageScore}\n${discountMessage}`;
            } else if (selectedPolicy && ['1', '2', '3', '4', '5', '9', '10'].includes(selectedPolicy.value)) {
                selectedPolicyId = selectedPolicy.value;
                subType = document.querySelector(`input[name="policy${selectedPolicy.value}Type"]:checked`)?.value || '';
                const policyMessages = {
                    '1': `Gi·∫£m 50% h·ªçc ph√≠ nƒÉm th·ª© nh·∫•t cho t√¢n sinh vi√™n ${subType === 'poor' ? 'h·ªô ngh√®o' : 'c·∫≠n ngh√®o'}.`,
                    '2': `Gi·∫£m 50% h·ªçc ph√≠ nƒÉm th·ª© nh·∫•t cho t√¢n sinh vi√™n m·ªì c√¥i ${subType === 'father' ? 'cha' : subType === 'mother' ? 'm·∫π' : 'cha v√† m·∫π'}.`,
                    '3': `Gi·∫£m 40% h·ªçc ph√≠ HK1 nƒÉm th·ª© nh·∫•t cho t√¢n sinh vi√™n l√† ${{
                        revolutionary: 'con c·ªßa ng∆∞·ªùi c√≥ c√¥ng v·ªõi c√°ch m·∫°ng',
                        sibling: 'c√≥ anh/ch·ªã ƒëang l√† sinh vi√™n ƒêHCL',
                        minority: 'ng∆∞·ªùi d√¢n t·ªôc thi·ªÉu s·ªë',
                        teacherChild: 'con ru·ªôt c·ªßa CB, GV tr∆∞·ªùng THPT, TTGDTX, S·ªü GD&ƒêT c√°c t·ªânh',
                        mkuRelative: 'con, em, ch√°u ru·ªôt c·ªßa CB, GV ƒêHCL'
                    }[subType]}.`,
                    '4': `Gi·∫£m ${subType} h·ªçc ph√≠ HK1 nƒÉm th·ª© nh·∫•t cho h·ªçc sinh ${subType === '20%' ? 'THPT, TTGDTX ·ªü Vƒ©nh Long' : 'THCS v√† THPT Ph√∫ Qu·ªõi'}.`,
                    '5': `Gi·∫£m 20% h·ªçc ph√≠ tr·ªçn kh√≥a cho ng√†nh ${subType}.`,
                    '9': `Mi·ªÖn h·ªçc ph√≠ to√†n kh√≥a cho sinh vi√™n d√¢n t·ªôc Khmer theo gi·ªõi thi·ªáu c·ªßa Ban D√¢n t·ªôc t·ªânh ${subType}.`,
                    '10': `Gi·∫£m 50% h·ªçc ph√≠ HK1 nƒÉm th·ª© nh·∫•t cho ${subType === 'wounded' ? 'con th∆∞∆°ng binh' : 'con li·ªát sƒ©'}.`
                };
                if (selectedPolicyId === '1' && isRestrictedMajor) {
                    discountMessage = `Ng√†nh ${majorInput}: Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gi·∫£m h·ªçc ph√≠ (1 kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).`;
                    selectedPolicyId = '';
                } else if (selectedPolicyId === '2' && isRestrictedMajor) {
                    discountMessage = `Ng√†nh ${majorInput}: Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gi·∫£m h·ªçc ph√≠ (2 kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).`;
                    selectedPolicyId = '';
                } else if (selectedPolicyId === '3' && isRestrictedMajor) {
                    discountMessage = `Ng√†nh ${majorInput}: Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gi·∫£m h·ªçc ph√≠ (3 kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).`;
                    selectedPolicyId = '';
                } else if (selectedPolicyId === '4' && isRestrictedMajor) {
                    discountMessage = `Ng√†nh ${majorInput}: Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gi·∫£m h·ªçc ph√≠ (4 kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).`;
                    selectedPolicyId = '';
                } else if (selectedPolicyId === '5' && !isEligibleMajor) {
                    discountMessage = `Ng√†nh ${majorInput}: Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gi·∫£m h·ªçc ph√≠ (5 ch·ªâ √°p d·ª•ng cho ng√†nh C√¥ng t√°c x√£ h·ªôi, K·ªπ thu·∫≠t x√¢y d·ª±ng c√¥ng tr√¨nh giao th√¥ng, K·ªπ thu·∫≠t y sinh, Kinh doanh th∆∞∆°ng m·∫°i, H·ªô sinh, K·ªπ thu·∫≠t h√¨nh ·∫£nh y h·ªçc).`;
                    selectedPolicyId = '';
                } else if (selectedPolicyId === '9' && isRestrictedMajor) {
                    discountMessage = `Ng√†nh ${majorInput}: Kh√¥ng ƒë·ªß ƒëi·ªÅu ki·ªán gi·∫£m h·ªçc ph√≠ (9 kh√¥ng √°p d·ª•ng cho Y khoa, Y h·ªçc c·ªï truy·ªÅn, RƒÉng H√†m M·∫∑t).`;
                    selectedPolicyId = '';
                } else {
                    discountMessage = policyMessages[selectedPolicyId];
                    fullDiscountMessage = document.querySelector(`#policyList li[data-policy="${selectedPolicyId}"]`).textContent.replace(/^\d+\.\s*/, '');
                }
                totalResult.innerText = discountMessage;
            } else if (isEligibleMajor) {
                selectedPolicyId = '5';
                subType = majorInput;
                discountMessage = `Gi·∫£m 20% h·ªçc ph√≠ tr·ªçn kh√≥a cho ng√†nh ${majorInput}.`;
                fullDiscountMessage = document.querySelector(`#policyList li[data-policy="5"]`).textContent.replace(/^\d+\.\s*/, '');
                totalResult.innerText = discountMessage;
            } else {
                selectedPolicyId = '';
                discountMessage = `Kh√¥ng ch·ªçn ch√≠nh s√°ch gi·∫£m h·ªçc ph√≠ v√† kh√¥ng thu·ªôc di·ªán ∆∞u ti√™n.`;
                fullDiscountMessage = discountMessage;
                totalResult.innerText = discountMessage;
            }

            if (selectedPolicyId) {
                const selectedLi = document.querySelector(`#policyList li[data-policy="${selectedPolicyId}"]`);
                if (selectedLi) {
                    selectedLi.classList.add('highlight');
                    selectedLi.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }
            }

            const personalInfo = {
                fullName: document.getElementById('fullName').value,
                dob: document.getElementById('dob').value,
                birthPlace: document.getElementById('birthPlace').value,
                address: document.getElementById('address').value,
                phone: document.getElementById('phone').value,
                major: majorInput,
                averageScore: selectedPolicy && selectedPolicy.value === 'byScore' ? totalResult.innerText.includes('TBM') ? parseFloat(totalResult.innerText.split('TBM ')[1].split(':')[0]) : 0 : 0,
                discountMessage: discountMessage,
                fullDiscountMessage: fullDiscountMessage,
                selectedPolicyId: selectedPolicyId,
                discountType: subType
            };
            localStorage.setItem('applicationData', JSON.stringify(personalInfo));
        }

        function clearPolicySelection() {
            document.querySelectorAll('input[name="discountPolicy"]').forEach(radio => radio.checked = false);
            document.querySelectorAll('input[name^="policy"][name$="Type"]').forEach(radio => radio.checked = false);
            document.querySelectorAll('#policyList li').forEach(li => li.classList.remove('highlight'));
            document.getElementById('eduTypeContainer').style.display = 'none';
            document.getElementById('scoreTable').style.display = 'none';
            document.getElementById('scoreInstruction').style.display = 'none';
            document.querySelectorAll('.sub-policy').forEach(option => option.style.display = 'none');
            document.getElementById('eduType').value = 'thpt';
            document.querySelectorAll('#scoreTable input').forEach(input => {
                input.value = '';
                document.getElementById(`error-${input.id}`).style.display = 'none';
            });
            document.getElementById('totalResult').innerText = 'K·∫øt qu·∫£: Ch∆∞a ki·ªÉm tra';
        }

        function generateApplicationForm() {
            const fullName = document.getElementById('fullName').value;
            const dob = document.getElementById('dob').value;
            const birthPlace = document.getElementById('birthPlace').value;
            const address = document.getElementById('address').value;
            const phone = document.getElementById('phone').value;
            const major = document.getElementById('major').value;
            const totalResult = document.getElementById('totalResult').innerText;

            if (!fullName || !dob || !birthPlace || !address || !phone || !major) {
                alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin c√° nh√¢n!');
                return;
            }
            if (!majors.includes(major)) {
                alert('Vui l√≤ng ch·ªçn ng√†nh h·ªçc h·ª£p l·ªá t·ª´ danh s√°ch g·ª£i √Ω!');
                return;
            }
            if (phone.length !== 10 || !/^[0-9]{10}$/.test(phone)) {
                alert('S·ªë ƒëi·ªán tho·∫°i ph·∫£i l√† 10 ch·ªØ s·ªë, kh√¥ng ch·ª©a ch·ªØ c√°i!');
                return;
            }
            if (totalResult === 'K·∫øt qu·∫£: Ch∆∞a ki·ªÉm tra') {
                alert('Vui l√≤ng ch·ªçn ch√≠nh s√°ch v√† ki·ªÉm tra k·∫øt qu·∫£ tr∆∞·ªõc khi t·∫°o form!');
                return;
            }
            const selectedPolicy = document.querySelector('input[name="discountPolicy"]:checked');
            if (selectedPolicy && ['1', '2', '3', '4', '5', '9', '10'].includes(selectedPolicy.value)) {
                const subType = document.querySelector(`input[name="policy${selectedPolicy.value}Type"]:checked`);
                if (!subType) {
                    alert(`Vui l√≤ng ch·ªçn m·ª•c con cho ch√≠nh s√°ch ${selectedPolicy.value}!`);
                    return;
                }
            }

            window.location.href = 'application-form.html';
        }

        window.onload = function() {
            toggleEduTypeAndScoreTable();
            updateSubjectTable();
            ['fullName', 'birthPlace', 'address', 'major'].forEach(id => {
                const input = document.getElementById(id);
                if (input.value) capitalizeWords(input);
            });
        };
    </script>


</body></html>
